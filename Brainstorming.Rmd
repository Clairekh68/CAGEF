---
title: "Brainstorming R Sessions 1-6"
output: html_notebook
---

Brainstorming Content for R Lessons 1-6

Approximate time: 1.5 hours per lesson

Comprehension questions as we go along on Socrative

Lesson 1 - should this be split into 2 lessons?

Objective: At the end of this session you will be able to import data into R (tsv, csv, xls(x), googlesheets), filter and manipulate your data, learn the principles of 'tidy' data, and export your new analysis. You will also learn about basic data structures in R and the basics of trouble-shooting.

-R & R-Studio will hopefully have been installed ahead of time, but there is always at least one person that will not have done this or will need additional help setting up. Perhaps they can come 15 minutes before the start of the class for setup help.

-Quick Intro to the R Environment
  ie. setting working directory (also, absolute and relative paths), how to check out variables in the global environment, how to get help, global options, trouble-shooting checklist, annotating your code

-Quick Intro to R Data Structures
  ie. vectors, matrices, data frames, lists
    -numerical, integer, character, factor, logical types of data
    -how to create each of these data classes, explain pros and cons
    -str()
    -simple matrix calculation using apply(), maybe transpose t() as well
    -being careful with factors and setting factor levels
    
-Installing and importing libraries
    -from CRAN, Bioconductor, GitHub
    
-Reading in data & writing data
    ie. read.delim(), read.csv(), read_csv(), readxl(), gs_read() - good opportunity to look at help files for the default differences, corresponding write fxns

Basic, basic data cleaning, to the extent that column names won't mess them up if they are ugly when imported. 

-Data Manipulation
  -dplyr() - how to subset data, create new columns, simple calculations
      -filter(), select(), arrange(), summarize(), group_by(), mutate(), bind_rows(), glance()
   -tidyr() - transforming data from wide to long and back again (or reshape2())
      -spread(), gather(), unite(), separate()
    -merging/adding data - all of the joins
      
Challenge: Take one of the provided test sets and calculate an average that requires subsetting and grouping. Perhaps make a separate question for say, a choice of 4 datasets (cars, iris, gapminder, lotr).
  
Resources:  
https://github.com/patrickwalls/R-examples/blob/master/LinearAlgebraInR.Rmd
http://seananderson.ca/2013/10/19/reshape.html
https://github.com/wmhall/tidyr_lesson/blob/master/tidyr_lesson.md
http://stat545.com/syllabus.html
http://sisbid.github.io/Module1/

Lesson 2

Objective: At the end of this session you will be able to use ggplot2() to make a ton of different types of plots with your data for both for data exploration and for publication-quality figures.   

-Intro to the Grammar of Graphics
  -general structure of ggplot2 syntax()
  -dependence of ggplot2 on the tidy data format

-Data Exploration - plot all the things!
  -dot plots, line graphs, scatter plots, bar graphs, histograms, facetting
  -heatmaps and correlation plots
  
-Making Figures
  -labels, scaling, ggsave(), regression lines, error bars, changing axis limits, rotating labels, adding text to data points, changing the legend, alpha, colors, shapes
  -forcats pkg: controlling categorical variable order in your legend
  -alternatives to pie charts
  -customize with ggthemes
  
Taking it up a notch - Maybe preview these, and if time vote on one to look at in more detail
  -Interactive graphics (d3heatmap, ggvis, plotly)
  -Network diagrams (DiagrammR, igraph)
  -dygraphs() - time series data, migest - circos plots
  -that damn bar chart/line graph alternative to pie charts
  -geospatial data? interest?
  -phylogenetics data - ggtree, treeman, metacoder
  -genomics data - ggbio
   
Challenge: Take one of the provided test sets and plot: 
  1. a qualitative variable with a quantitative variable (at least 2 ways). Facet your plot by the qualitative variable.
  2. two quantitative variables (at least 2 ways). Add a regression line to your plot.
Choice of 4 datasets (cars, iris, gapminder, lotr).
    airquality, game of thrones
    
Resources:
http://stat545.com/syllabus.html
    
Lesson 3 - should this be split into 2 lessons?

Objective: At the end of this session you will be able to use regular expressions to 'clean' your data. You will also learn R markdown and be able to render your R code into slides, a pdf, html, a word document, or a notebook.

-Intro to regular expressions
  ie. escape characters, character classes, quantifiers and all that jazz

-Text manipulation with stringr/i
  -searching for a word/patterns, subset using character strings, collapse and expand character vectors, replacement, replacing NAs, splitting/combining at a delimiter

-R markdown and knitr
  -r markdown syntax
  -knitr code chunk options
    ie. suppressing pkg load warnings, eval = T/F, re-running some chunks while keeping others in memory
    -tables in knitr
  - making things pretty: adding table of contents, images, hyperlinks, urls
  -installing pandoc
  -sharing on Rpubs

Challenge: Take the original gapminder dataset and covert it to the 'clean' dataset found in the gapminder package / find some horrible dataset to clean. Present in a knitr table, explaining some of your data cleaning challenges in rmarkdown. Knit the document to a pdf.
   
Resources:      
http://stat545.com/syllabus.html   
    
Lesson 4

Objective: At the end of this session you will be able to perform simple linear or non-linear regression on your dataset. You will be able to interpret the statistics that come out of this model, and use these statistics to select the best model for the job. 

-Let's think about what question we are asking

-Dealing with dummy variables/encoding categorical variables

-Is it necessary to scale our data?

-Simple linear regression

-Using broom() to get a data frame of our result statistics

-Interpreting the output of our model

-Non-linear regression

Challenge: Given this dataset, answer this question. Is this the best model for the job? What else could you apply? Can you prove this is any better?

Resources: 
https://github.com/ttimbers/lm_and_glm/blob/master/lm_and_glm.Rmd
https://github.com/seananderson/glmm-course
    
Lesson 5
-still need to throw in a t.test somewhere? with summarize? apply? lm?
-functions are useful
-different methods of clustering and pca? Go through the vegan pkg?
-de analysis?
-get into lists?

Thoughts: Should probably create the first lessons and see...

